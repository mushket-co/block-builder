# Changelog

Все важные изменения в проекте будут документироваться в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и проект следует [Semantic Versioning](https://semver.org/lang/ru/).

## [1.0.13] - 2025-11-03

### Добавлено
- **Экспорты CSS в package.json**: Добавлены экспорты `./index.esm.css` и `./index.css` в `package.json`, что позволяет корректно импортировать стили через `import '@mushket-co/block-builder/index.esm.css'` без указания полного пути `dist/index.esm.css`

---

## [1.0.12] - 2025-11-03

### Исправлено
- **Исправлен `.npmignore`**: Убрано исключение всей директории `src/`, которое блокировало включение файлов из `src/ui/` в npm пакет. Теперь все файлы из `src/`, указанные в `files`, корректно включаются в пакет
- **Убрана зависимость от SCSS в Vue компонентах**: Удалены импорты SCSS файлов из Vue компонентов (`@use '../styles/index.scss'` и подобные). Теперь пользователям не нужно устанавливать `sass` - стили уже скомпилированы в `dist/index.esm.css` и должны импортироваться отдельно
- **Исключены SCSS файлы из npm пакета**: Директория `src/ui/styles/` теперь исключена из публикации пакета

---

## [1.0.11] - 2025-11-03

### Исправлено
- **Исправлен список файлов npm пакета**: Теперь включены все необходимые директории (`src/ui/**/*`, `src/core/**/*.ts`) для корректной работы Vue компонентов с их зависимостями (icons, controllers, services и т.д.)

---

## [1.0.10] - 2025-11-03

### Исправлено
- **Добавлены `core/services` и `core/entities` в npm пакет**: Файлы из `src/core/services/` и `src/core/entities/` теперь включены в список файлов пакета, что позволяет Vue компонентам корректно резолвить импорты лицензионных сервисов

---

## [1.0.9] - 2025-11-03

### Исправлено
- **Добавлен `BlockBuilderFactory.ts` в npm пакет**: Файл `src/BlockBuilderFactory.ts` теперь включен в список файлов пакета, что позволяет корректно резолвить импорты при использовании `vue` entry point

---

## [1.0.8] - 2025-11-03

### Исправлено
- **Исправлена проблема с резолвингом импортов в `vue` entry point**: Теперь `createBlockManagementUseCase` корректно работает при установке пакета через npm, добавлен экспорт `BlockBuilderFactory` через `vue.ts` для внешнего использования

### Изменено
- **vue.ts**: Добавлен экспорт `BlockBuilderFactory` и его типов для удобного использования в Vue компонентах

---

## [1.0.7] - 2025-11-03

### Исправлено
- **Исправлена проблема с резолвингом импортов в `vue` entry point**: Теперь `createBlockManagementUseCase` корректно работает при установке пакета через npm, добавлен экспорт `BlockBuilderFactory` через `vue.ts` для внешнего использования

### Изменено
- **vue.ts**: Добавлен экспорт `BlockBuilderFactory` и его типов для удобного использования в Vue компонентах

---

## [1.0.6] - 2025-11-03

### Добавлено
- **Режим редактирования/просмотра**: Добавлен параметр `isEdit` в `BlockBuilderFacade`, который позволяет переключаться между режимом редактирования (по умолчанию `true`) и режимом только просмотра (`false`)
- **API для управления режимом редактирования**: Добавлены методы `setIsEdit(isEdit: boolean)` и `getIsEdit(): boolean` в `BlockBuilderFacade` для динамического переключения режима
- **Условное отображение UI контролов**: В режиме просмотра (`isEdit: false`) автоматически скрываются все кнопки редактирования, добавления и управления блоками. Остаётся доступной только функция копирования ID блока
- **CSS класс `bb-is-edit-mode`**: Автоматически добавляется класс на элемент `body` для возможности кастомизации стилей в зависимости от режима работы

### Изменено
- **BlockBuilderFacade**: Добавлен параметр `isEdit` в интерфейс `IBlockBuilderOptions`, по умолчанию `true`
- **BlockUIController**: Добавлена поддержка режима редактирования, все операции создания/редактирования/удаления блоков блокируются в режиме просмотра
- **UIRenderer**: Обновлён для поддержки условного рендеринга контролов в зависимости от режима редактирования
- **BlockBuilder.vue**: Компонент теперь получает и обрабатывает проп `isEdit` для Vue3 интеграции
- **Примеры использования**: Обновлены примеры в `examples/pure-js-vite`, `examples/vue3` и `examples/pure-js-cdn` для демонстрации использования режима редактирования

### Исправлено
- Улучшена обработка режима просмотра в UI контроллере - все действия, связанные с редактированием, корректно блокируются

---

**Примечание**: Для полной истории изменений см. [git log](https://github.com/mushket-co/block-builder/commits/master).

